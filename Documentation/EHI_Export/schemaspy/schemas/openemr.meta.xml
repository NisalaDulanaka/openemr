<schemaMeta xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="schemameta.xsd" >
    <tables>

        <table name="patient_data" comments="Main patient record that contains patient demographic information">
            <column name="id" comments="Surrogate id of the record used as the primary incrementing key"/>
            <column name="uuid" comments="UUID of the record"/>
            <column name="pharmacy_id" comments="The patient's default pharmacy to send prescriptions to">
                <foreignKey table="pharmacies" column="id" />
            </column>
            <column name="pid" comments="The internal patient identifier used throughout the export to represent this unique patient record"/>
            <column name="pubpid" comments="The public facing Medical Record Number (MRN) of the patient"/>
            <column name="care_team_provider"  comments="List of care team providers where each id is the provider id contained in the users.id. Entries are separated by a the pipe | symbol." />
            <column name="care_team_facility"  comments="List of care team facilities where each id is the facility/organization id contained in the facilities.id. Entries are separated by a the pipe | symbol" />
            <column name="providerID" comments="The id of the assigned provider to this user">
                <foreignKey table="users" column="id" />
            </column>
            <column name="ref_providerID" comments="The id of the user that referred this patient">
                <foreignKey table="users" column="id" />
            </column>
            <column name="created_by" comments="The id of the user that initially created this record">
                <foreignKey table="users" column="id" />
            </column>
            <column name="updated_by" comments="The id of the user that last updated this record">
                <foreignKey table="users" column="id" />
            </column>
            <column name="title" comments="Title of the patient"/>
            <column name="language" comments="Language preference of the patient"/>
            <column name="financial" comments="Financial information of the patient"/>
            <column name="fname" comments="First name of the patient"/>
            <column name="lname" comments="Last name of the patient"/>
            <column name="mname" comments="Middle name of the patient"/>
            <column name="DOB" comments="Date of Birth of the patient"/>
            <column name="street" comments="Street address of the patient"/>
            <column name="postal_code" comments="Postal code of the patient's address"/>
            <column name="city" comments="City of the patient's address"/>
            <column name="state" comments="State of the patient's address"/>
            <column name="country_code" comments="Country code of the patient's address"/>
            <column name="drivers_license" comments="Driver's license of the patient"/>
            <column name="ss" comments="Social Security Number of the patient"/>
            <column name="occupation" comments="Occupation of the patient. UNEMPLOYED, STUDENT, PT STUDENT, or anything else to indicate employed."/>
            <column name="phone_home" comments="Home phone number of the patient"/>
            <column name="phone_biz" comments="Business phone number of the patient"/>
            <column name="phone_contact" comments="Contact phone number of the patient"/>
            <column name="phone_cell" comments="Cell phone number of the patient"/>

            <column name="status" comments="Marital Status: M = Married, S = Single, or something else"/>
            <column name="contact_relationship" comments="Relationship of the contact person"/>
            <column name="date" comments="Date related to the patient"/>
            <column name="sex" comments="Gender of the patient"/>
            <column name="referrer" comments="Referrer of the patient"/>
            <column name="referrerID" comments="ID of the referring user"/>
            <column name="email" comments="Email address of the patient"/>
            <column name="email_direct" comments="Trusted Direct email address of the patient"/>
            <column name="ethnoracial" comments="Ethnicity/Race information of the patient"/>
            <column name="race" comments="Race of the patient"/>
            <column name="ethnicity" comments="Ethnicity of the patient"/>
            <column name="religion" comments="Religion of the patient"/>
            <column name="interpretter" comments="Interpreter information for the patient"/>
            <column name="migrantseasonal" comments="Migrant/Seasonal worker information"/>
            <column name="family_size" comments="Family size information of the patient"/>
            <column name="monthly_income" comments="Monthly income information of the patient"/>
            <column name="billing_note" comments="Billing notes for the patient"/>
            <column name="homeless" comments="Homeless status of the patient"/>
            <column name="financial_review" comments="Financial review date"/>
            <column name="genericname1" comments="Generic name field 1"/>
            <column name="genericval1" comments="Generic value field 1"/>
            <column name="genericname2" comments="Generic name field 2"/>
            <column name="genericval2" comments="Generic value field 2"/>
            <column name="hipaa_mail" comments="HIPAA Mail setting"/>
            <column name="hipaa_voice" comments="HIPAA Voice setting"/>
            <column name="hipaa_notice" comments="HIPAA Notice setting"/>
            <column name="hipaa_message" comments="HIPAA Message setting"/>
            <column name="hipaa_allowsms" comments="HIPAA Allow SMS setting"/>
            <column name="hipaa_allowemail" comments="HIPAA Allow Email setting"/>
            <column name="squad" comments="The Athletic Squad this patient is a member of"/>
            <column name="fitness" comments="The sport team Fitness level assigned to this patient"/>
            <column name="referral_source" comments="Source of referral for the patient"/>
            <column name="usertext1" comments="User text field 1"/>
            <column name="usertext2" comments="User text field 2"/>
            <column name="usertext3" comments="User text field 3"/>
            <column name="usertext4" comments="User text field 4"/>
            <column name="usertext5" comments="User text field 5"/>
            <column name="usertext6" comments="User text field 6"/>
            <column name="usertext7" comments="User text field 7"/>
            <column name="usertext8" comments="User text field 8"/>
            <column name="userlist1" comments="User list field 1"/>
            <column name="userlist2" comments="User list field 2"/>
            <column name="userlist3" comments="User list field 3"/>
            <column name="userlist4" comments="User list field 4"/>
            <column name="userlist5" comments="User list field 5"/>
            <column name="userlist6" comments="User list field 6"/>
            <column name="userlist7" comments="User list field 7"/>
            <column name="pricelevel" comments="Price level information of the patient"/>
            <column name="regdate" comments="Registration Date"/>
            <column name="contrastart" comments="Date contraceptives initially used"/>
            <column name="completed_ad" comments="Completed Ad information"/>
            <column name="ad_reviewed" comments="Date Ad reviewed"/>
            <column name="vfc" comments="VFC information"/>
            <column name="mothersname" comments="Mother's name"/>
            <column name="guardiansname" comments="Guardian's name"/>
            <column name="allow_imm_reg_use" comments="Allow Immunization Registry Use"/>
            <column name="allow_imm_info_share" comments="Allow Immunization Information Sharing"/>
            <column name="allow_health_info_ex" comments="Allow Health Information Exchange"/>
            <column name="allow_patient_portal" comments="Allow Patient Portal"/>
            <column name="deceased_date" comments="Date of Decease"/>
            <column name="deceased_reason" comments="Reason of Decease"/>
            <column name="soap_import_status" comments="SOAP Import Status (1-Prescription Press 2-Prescription Import 3-Allergy Press 4-Allergy Import)"/>
        </table>

        <!-- Allergies Data -->
        <!--        - Medical Problems-->
        <!--        - Medications-->
        <!--        - Medical Devices-->
        <!--        - Surgeries-->
        <!--        - Dental Issues-->
        <table name="lists" comments="Patient issues list including allergies, medical problems, medications, medical devices, surgeries, and dental issues. Type of issue is in the type column.">
            <column name="id" comments="Primary identifier of the record"/>
            <column name="uuid" comments="UUID of the record"/>
            <column name="date" comments="Date the issue was created"/>
            <column name="type" comments="The type of the issue (allergy, medication, etc) where the issue_types.category='default'">
                <foreignKey table="issue_types" column="type" />
            </column>
            <column name="subtype" comments="The sub type of the issue where the list_options.list_id='issue_subtypes'">
                <foreignKey table="list_options" column="option_id" />
            </column>
            <column name="title" comments="The human readable description of the issue" />
            <column name="udi" comments="The unique device identifier.  Populated if the issue is of type medical_device" />
            <column name="udi_data" comments="The JSON serialized medical device as returned from the https://accessgudid.nlm.nih.gov/api/v2/devices/lookup.json api.  Populated if the issue is of type medical_device" />
            <column name="begdate" comments="The beginning date for when this issue occurred as reported by the patient or the provider" />
            <column name="enddate" comments="The end date for when this issue occurred as reported by the patient or the provider" />
            <column name="returndate" comments="UNUSED - will be removed in the future" />
            <column name="occurrence" comments="Comes from the list_options.list_id='occurrence' and is the frequency that this issue occurs for the patient">
                <foreignKey table="list_options" column="option_id" />
            </column>
            <column name="classification" comments="UNUSED - will be removed in the future" />
            <column name="referredby" comments="The human readable name of Referring physician and practice" />
            <column name="extrainfo" comments="UNUSED - will be removed in the future" />
            <column name="diagnosis" comments="The diagnosis of the issue.  Format is a text string in the format of 'system:code[;system:code2;system:coden]'" />
            <column name="activity" comments="Value of 0 means the record has been deleted, 1 means the record is active in the system" />
            <column name="comments" comments="Human readable additional notes/comments of the issue" />
            <column name="pid" comments="The internal patient identifier">
		        <foreignKey table="patient_data" column="pid" />
            </column>
            <column name="user" comments="The user that created or last updated this issue">
                <foreignKey table="users" column="username" />
            </column>
            <column name="groupname" comments="The user group that created or last updated this issue">
                <foreignKey table="groups" column="name" />
            </column>
            <column name="outcome" comments="Comes from the list_options.list_id='outcome' and represents the outcome of the issue">
                <foreignKey table="list_options" column="option_id" />
            </column>
            <column name="destination" comments="Human readable name of GP, Secondary care specialist, etc." />
            <column name="reinjury_id" comments="UNUSED - will be removed in the future" />
            <column name="injury_part" comments="UNUSED - will be removed in the future" />
            <column name="injury_type" comments="UNUSED - will be removed in the future" />
            <column name="injury_grade" comments="UNUSED - will be removed in the future" />
            <column name="reaction" comments="Comes from the list_options.list_id='reaction' and represents the reaction of the patient to the allergy">
                <foreignKey table="list_options" column="option_id" />
            </column>
            <column name="verification" comments="Comes from the list_options.list_id='allergyintolerance-verification' and represents the confirmation status of the allergy">
                <foreignKey table="list_options" column="option_id" />
            </column>
            <column name="external_allergyid" comments="An identifier for an allergy from an external eRx system" />
            <column name="erx_source" comments="O if the allergy issue originated in OpenEMR, 1 if the allergy issue originated in an external system" />
            <column name="erx_uploaded" comments="O if allergy is still waiting to be uploaded to an external system (such as eRX), 1 if the allergy issue has been successfully received by the eRX system" />
            <column name="modifydate" comments="The date the issue record was last modified" />
            <column name="severity_al" comments="Comes from the list_options.list_id='severity_ccda' and represents the severity of the allergic reaction of the patient to the allergy">
                <foreignKey table="list_options" column="option_id" />
            </column>
            <column name="external_id" comments="UNUSED - will be removed in the future" />
            <column name="list_option_id" comments="Comes from the list_options.list_id=CONCAT(lists.type,'_issue_list') and represents the prefilled list option id that was chosen as a template to create this issue">
                <foreignKey table="list_options" column="option_id" />
            </column>
        </table>

        <table name="lists_medication">
            <column name="list_id"  comments="The internal lists identifier">
                <foreignKey table="lists" column="id" />
            </column>
            <column name="created_by"  comments="The user that created this record">
                <foreignKey table="users" column="id" />
            </column>
        </table>

        <!-- Patient History -->
        <table name="history_data" comments="Contains patient eating,sleeping,drinking,drug habits as well as other patient health history information">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
            <column name="created_by"  comments="The user that created this record">
                <foreignKey table="users" column="id" />
            </column>
        </table>

        <!-- Patient Care Team, Previous Names in patient_history -->
        <table name="patient_history" comments="Contains previous historical entries of the patient's care team (providers and facilities) as well as patient previous name information">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
            <column name="care_team_provider"  comments="List of care team providers where each id is the provider id contained in the users.id. Entries are separated by a the pipe | symbol." />
            <column name="care_team_facility"  comments="List of care team facilities where each id is the facility/organization id contained in the facilities.id. Entries are separated by a the pipe | symbol" />
            <column name="created_by"  comments="The user that created this record">
                <foreignKey table="users" column="id" />
            </column>
        </table>

<!--        - Prescriptions-->
        <table name="prescriptions" comments="Internal and External prescription information">
            <column name="patient_id"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
            <column name="patient_id"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
            <column name="filled_by_id" comments="UNUSED - will be removed in the future" />
            <column name="pharmacy_id"  comments="The internal identifier for the pharmacy that is connected to this prescription">
                <foreignKey table="pharmacies" column="id" />
            </column>
            <column name="provider_id" comments="The id of the user that created this prescription">
                <foreignKey table="users" column="id" />
            </column>
            <column name="drug_id" comments="The id of the drug that was prescribed to the patient. 0 if the drug was manually entered">
                <foreignKey table="drugs" column="drug_id" />
            </column>

            <column name="created_by" comments="The id of the user that initially created this record">
                <foreignKey table="users" column="id" />
            </column>
            <column name="updated_by" comments="The id of the user that last updated this record">
                <foreignKey table="users" column="id" />
            </column>
        </table>

<!--        - Immunizations-->
        <table name="immunizations" comments="Patient Immunizations">
            <column name="patient_id"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
            <!-- TODO: @adunsulag immunization_id, administered_by_id, created_by, updated_by, ordering_provider -->
        </table>
        <table name="immunization_observation" comments="Individual observations for a specific immunization">
            <column name="imo_pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
            <column name="imo_im_id"  comments="The immunization record this observation is part of">
                <foreignKey table="immunizations" column="id" />
            </column>
            <column name="imo_user">
                <foreignKey table="users" column="id" />
            </column>
        </table>

<!--        - Patient Insurance-->
        <table name="insurance_data" comments="Patient Insurance information">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
            <column name="provider"  comments="The insurance company that insures the patient">
                <foreignKey table="insurance_companies" column="id" />
            </column>
            <column name="policy_type"  comments="Whether this is the 'primary', 'secondary', or 'tertiary' insurance" />
        </table>

        <table name="insurance_companies" comments="Insurance company">
            <column name="ins_type_code"  comments="The type of insurance company this record is">
                <foreignKey table="insurance_type_codes" column="id" />
            </column>
        </table>
<!--        - Patient Messages (pnotes)-->
        <table name="pnotes" comments="Patient Messages about the healthcare treatment of the patient">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
            <column name="user">
                <foreignKey table="users" column="id" />
            </column>
            <column name="assigned_to">
                <foreignKey table="users" column="id" />
            </column>
            <column name="groupname">
                <foreignKey table="groups" column="name" />
            </column>
            <column name="update_by">
                <foreignKey table="users" column="id" />
            </column>
            <column name="update_by">
                <foreignKey table="users" column="id" />
            </column>
            <column name="message_status" comments="Comes from the list_options.list_id='message_status' and represents the status of the message">
                <foreignKey table="list_options" column="option_id" />
            </column>
        </table>

        <table name="patient_reminders" comments="Patient Reminders generated from the clinical decision support engine that are sent via a communication medium to the patient">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
            <column name="reason_inactivated">
                <foreignKey table="list_options" column="option_id" />
            </column>
            <column name="due_status">
                <foreignKey table="list_options" column="option_id" />
            </column>
            <column name="category">
                <foreignKey table="rule_action_item" column="category" />
            </column>
            <column name="item">
                <foreignKey table="rule_action_item" column="item" />
            </column>
        </table>
        <!-- rule_patient_data -->
        <table name="rule_patient_data" comments="Patient Reminders that the Clinical Decision Support system is configured to run for this specific patient.">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
            <column name="category">
                <foreignKey table="rule_action_item" column="category" />
            </column>
            <column name="item">
                <foreignKey table="rule_action_item" column="item" />
            </column>
        </table>
        <table name="rule_action_item" comments="Patient Reminders configuration for Clinical Decision Support individual rule settings">
            <column name="category">
                <foreignKey table="list_options" column="option_id" />
            </column>
            <column name="item">
                <foreignKey table="list_options" column="option_id" />
            </column>
        </table>

<!--        - Patient Disclosures-->
        <!-- see disc_fragement.php::getDisclosureByDate() -->
        <table name="extended_log" comments="Holds the disclosures of EHI made to third parties for a given patient">
            <column name="id" />
            <column name="date" />
            <column name="event" />
            <column name="user" />
            <column name="recipient" />
            <column name="description" />
            <column name="patient_id"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>

<!--        - Patient Amendments-->
        <table name="amendments" comments="Holds requests to amend health care information typically initiated by the patient or an insurance company">
            <column name="amendment_id" comments="Primary key for the amendment record. It uniquely identifies each amendment."/>
            <column name="amendment_date" comments="The date when the amendment request was made."/>
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
            <column name="amendment_by" comments="Comes from the list_options.list_id='amendment_from' and represents who is requesting the amendment">
                <foreignKey table="list_options" column="option_id" />
            </column>
            <column name="amendment_status" comments="Comes from the list_options.list_id='amendment_status' and represents the current status of the amendment">
                <foreignKey table="list_options" column="option_id" />
            </column>
            <column name="created_by" comments="The id of the user that initially created this amendment">
                <foreignKey table="users" column="id" />
            </column>
            <column name="modified_by" comments="The id of the user that last modified this amendment">
                <foreignKey table="users" column="id" />
            </column>
            <column name="amendment_desc" comments="Detailed information about the amendment, including any additional notes or changes."/>
            <column name="created_time" comments="Timestamp indicating when the amendment record was created."/>
            <column name="modified_time" comments="Timestamp indicating when the amendment record was last modified."/>
        </table>
        <table name="amendments_history" comments="Contains clinicinan comments regarding an amendment request">
            <column name="amendment_id"  comments="The internal amendment id">
                <foreignKey table="amendments" column="amendment_id" />
            </column>
            <column name="amendment_status" comments="Comes from the list_options.list_id='amendment_status' and represents the current status of the amendment">
                <foreignKey table="list_options" column="option_id" />
            </column>
            <column name="created_by" comments="The id of the user that initially created this amendment">
                <foreignKey table="users" column="id" />
            </column>
            <column name="created_time" comments="Timestamp indicating when the amendment record was created."/>
            <column name="amendment_note" comments="Comments regarding the amendment as entered by the creating user.  Also contains a human readable description of the amendment status.">
                <foreignKey table="list_options" column="option_id" />
            </column>
        </table>

<!--        - Patient Vitals-->
        <table name="form_vitals">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
            <column name="user">
                <foreignKey table="users" column="username" />
            </column>
            <column name="groupname">
                <foreignKey table="groups" column="name" />
            </column>
        </table>
        <table name="form_vital_details">
            <column name="form_id">
                <foreignKey table="form_vitals" column="id" />
            </column>
            <column name="interpretation_list_id ">
                <foreignKey table="list_options" column="list_id" />
            </column>
            <column name="interpretation_option_id ">
                <foreignKey table="list_options" column="option_id" />
            </column>
            <column name="reason_status" comments="Valid values are 'completed','negated','pending' or '' for none" />
        </table>
<!--        - Patient recalls-->
        <table name="medex_recalls">
            <column name="r_ID" comments="Unique ID for the recall record"/>
            <column name="r_pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
            <column name="r_facility"  comments="FK facility.id associated with the recall">
                <foreignKey table="facility" column="id" />
            </column>
            <column name="r_provider" comments="Provider ID associated with the recall FK to users.id">
                <foreignKey table="users" column="id" />
            </column>

            <column name="r_PRACTID" comments="UNUSED - Practice ID associated with the recall"/>
            <column name="r_eventDate" comments="Date of Appointment or Recall"/>
            <column name="r_reason" comments="Reason for the recall"/>
            <column name="r_created" comments="Timestamp when the recall was created"/>
        </table>
<!--        - Clinical Reminders-->
        <table name="clinical_plans" comments="The Clinical Quality Measures that are being applied to a specific patient to track.  This is used in the clinical reminders system">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>
<!--        - Recall Appts-->
<!--        - Patient Appointments-->

        <!-- TODO: @adunsulag openemr_postcalendar_events and openemr_postcalendar_categories -->
        <table name="openemr_postcalendar_events">
            <column name="pc_pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
            <column name="pc_catid">
                <foreignKey table="openemr_postcalendar_categories" column="pc_catid" />
            </column>
            <column name="pc_aid">
                <foreignKey table="users" column="id" />
            </column>
            <column name="pc_gid">
                <foreignKey table="groups" column="id" />
            </column>
            <column name="pc_facility">
                <foreignKey table="facility" column="id" />
            </column>
        </table>



        <!--        - Patient Documents-->
        <table name="documents" comments="Stores all of the digital documents that are connected to a patient.">
            <column name="foreign_id"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>
        <table name="notes"  comments="Clinical notes and comments for individual patient documents">
            <column name="foreign_id"  comments="The documents.id key for the document this note is connected to">
                <foreignKey table="documents" column="id" />
            </column>
        </table>
<!--        - Patient Transactions (Billing  Legal  Patient Request  Physician Request  Referral/Counter Referral)-->
        <table name="transactions" comments="Represents patient referrals, and transactional records for billing, legal, and requests from the patient or their physician">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>
        <table name="lbf_data" comments="Dynamic Field values that are part of the following forms: Demographics, Facility Specific User Information, History Form, and custom dynamically generated encounter forms">
            <column name="form_id">
                <foreignKey table="transactions" column="id" />
            </column>
            <column name="field_id">
                <foreignKey table="layout_options" column="field_id" />
            </column>
        </table>
        <table name="lbt_data" comments="Dynamic Field values that an installation can use to extend the data stored in the transactions table">
            <column name="form_id">
                <foreignKey table="transactions" column="id" />
            </column>
            <column name="field_id">
                <foreignKey table="layout_options" column="field_id" />
            </column>
        </table>
        <table name="layout_options" comments="Holds the layout settings for a specific dynamic field in the system">
            <column name="form_id">
                <foreignKey table="layout_group_properties" column="grp_form_id" />
            </column>
            <column name="group_id">
                <foreignKey table="layout_group_properties" column="grp_group_id" />
            </column>
        </table>
        <table name="layout_group_properties">
            <column name="grp_group_id">
                <foreignKey table="layout_group_properties" column="grp_group_id" />
            </column>
        </table>
<!--        - Patient Ledger [what is involved here?]-->
<!--        - Patient Encounters-->
        <table name="forms">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>
<!--        - Encounter Summary-->
        <table name="form_encounter">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
            <column name="last_level_billed"  comments="The party for whom payment was last billed. -1=Nobody, 0=Patient, 1=Ins1, 2=Ins2, 3=Ins3" />
            <column name="last_level_closed"  comments="The party for whom payment was last received. -1=Nobody, 0=Patient, 1=Ins1, 2=Ins2, 3=Ins3" />
        </table>
        <!-- TODO: @adunsulag look at issue_encounter table -->

<!--        - Fee Sheet-->
<!--        - Misc Billing Options-->
        <table name="form_misc_billing_options">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>

<!--        - Care Plan-->
        <table name="form_care_plan">
            <column name="pid" comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>

<!--        - Clinical Instructions-->
        <table name="form_clinical_instructions">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>

<!--        - Clinical Notes-->
        <table name="form_clinical_notes">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>

<!--        - Eye Exam-->
        <table name="form_eye_acuity">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>
        <table name="form_eye_antseg">
            <column name="pid">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>
        <table name="form_eye_base">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>
        <table name="form_eye_biometrics">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>
        <table name="form_eye_external">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>
        <table name="form_eye_hpi">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>
        <table name="form_eye_locking">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>
        <table name="form_eye_mag_dispense">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>
        <table name="form_eye_mag_impplan">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>
        <table name="form_eye_mag_orders">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>
        <table name="form_eye_mag_wearing">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>
        <table name="form_eye_neuro">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>
        <table name="form_eye_postseg">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>
        <table name="form_eye_refraction">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>
        <table name="form_eye_ros">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>
        <table name="form_eye_vitals">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>
        <table name="form_taskman">
            <column name="PATIENT_ID"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>

<!--        - Functional and Cognitive Status-->
        <table name="form_functional_cognitive_status">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>
<!--        - Observation-->
        <table name="form_observation">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>
<!--        - Review of Systems-->
        <table name="form_reviewofs">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>

<!--        - Review of Systems Checks-->
        <table name="form_ros">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>

<!--        - SOAP-->
        <table name="form_soap">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>

<!--        - Speech Dictation-->
        <table name="form_dictation">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>

<!--        - CAMOS-->
        <table name="form_CAMOS">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>
        <table name="form_CAMOS_category">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>
        <table name="form_CAMOS_item">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>
        <table name="form_CAMOS_subcategory">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>

<!--        - Procedure Order-->
        <!--        - Patient Labs-->
        <!-- TODO: @adunsulag procedure_order, procedure_answers, procedure_order_code, procedure_providers, procedure_report, procedure_type -->
        <table name="procedure_order">
            <column name="procedure_order_id" />
            <column name="patient_id"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
            <column name="provider_id">
                <foreignKey table="users" column="id" />
            </column>
            <column name="encounter_id">
                <foreignKey table="form_encounter" column="encounter" />
            </column>
            <column name="lab_id">
                <foreignKey table="procedure_providers" column="ppid" />
            </column>
            <column name="specimen_type" comments="Comes from the list_options.list_id='Specimen_Type' and represents the specimen type collected for the procedure">
                <foreignKey table="list_options" column="option_id" />
            </column>
            <column name="specimen_location" comments="Comes from the list_options.list_id='Specimen_Location' and represents the location the specimen was collected at">
                <foreignKey table="list_options" column="option_id" />
            </column>
            <column name="account_facility">
                <foreignKey table="facility" column="id" />
            </column>
            <column name="collector_id">
                <foreignKey table="users" column="id" />
            </column>
        </table>
        <table name="procedure_providers" comments="This table holds both internal and external laboratories as well as other organizations that provide lab testing, results, and other procedures that can be ordered by a provider">
            <column name="ppid" comments="Surrogate ID of the record used as the primary incrementing key"/>
            <column name="uuid" comments="UUID of the record"/>
            <column name="name" comments="Name of the laboratory or organization"/>
            <column name="npi" comments="National Provider Identifier (NPI)"/>
            <column name="send_app_id" comments="Sending application ID (MSH-3.1)" exclude="true"/>
            <column name="send_fac_id" comments="Sending facility ID (MSH-4.1)" exclude="true"/>
            <column name="recv_app_id" comments="Receiving application ID (MSH-5.1)" exclude="true"/>
            <column name="recv_fac_id" comments="Receiving facility ID (MSH-6.1)" exclude="true"/>
            <column name="DorP" comments="Debugging or Production (MSH-11)" exclude="true"/>
            <column name="direction" comments="Bidirectional or Results-only" exclude="true"/>
            <column name="lab_id" comments="Laboratory ID"/>
            <column name="protocol" comments="Protocol for communication" exclude="true"/>
            <column name="remote_host" comments="Remote host for communication" exclude="true"/>
            <column name="login" comments="Login information for communication" exclude="true"/>
            <column name="password" comments="Password for communication" exclude="true"/>
            <column name="orders_path" comments="Path for orders" exclude="true"/>
            <column name="results_path" comments="Path for results" exclude="true"/>
            <column name="notes" comments="Additional notes or information" exclude="true"/>
            <column name="lab_director" comments="ID of the laboratory director"/>
            <column name="active" comments="Indicates whether the provider is active"/>
            <column name="type" comments="Type of provider or organization"/>
        </table>
        <table name="procedure_order_code">
            <column name="procedure_order_id">
                <foreignKey table="procedure_order" column="procedure_order_id" />
            </column>
            <column name="procedure_code">
                <foreignKey table="procedure_type" column="procedure_code" />
            </column>
        </table>
        <table name="procedure_answers">
            <column name="procedure_order_id">
                <foreignKey table="procedure_order" column="procedure_order_id" />
            </column>
            <column name="procedure_order_seq" />
            <column name="question_code">
                <foreignKey table="procedure_questions" column="question_code" />
            </column>
        </table>
        <table name="procedure_questions">
            <column name="question_code"/>
            <column name="lab_id">
                <foreignKey table="procedure_providers" column="ppid" />
            </column>
            <column name="procedure_code">
                <foreignKey table="procedure_type" column="procedure_code" />
            </column>
        </table>
        <table name="procedure_result">
            <column name="procedure_report_id">
                <foreignKey table="procedure_report" column="procedure_report_id" />
            </column>
        </table>
        <table name="procedure_result">
            <column name="procedure_order_id">
                <foreignKey table="procedure_order" column="procedure_order_id" />
            </column>
            <column name="procedure_order_seq" />
            <column name="source">
                <foreignKey table="users" column="id" />
            </column>
        </table>
        <table name="procedure_report">
            <column name="procedure_order_id">
                <foreignKey table="procedure_order" column="procedure_order_id" />
            </column>
            <column name="procedure_order_seq" />
            <column name="source">
                <foreignKey table="users" column="id" />
            </column>
        </table>

<!--        - Questionnaire Responses-->
        <table name="form_questionnaire_assessments">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>
        <table name="pro_assessments">
            <column name="patient_id"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
            <column name="user_id">
                <foreignKey table="users" column="id" />
            </column>
        </table>
        <table name="questionnaire_response">
            <column name="patient_id"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
            <column name="audit_user_id">
                <foreignKey table="users" column="id" />
            </column>
            <column name="creator_user_id">
                <foreignKey table="users" column="id" />
            </column>
            <column name="encounter">
                <foreignKey table="form_encounter" column="encounter" />
            </column>
            <column name="questionnaire_foreign_id">
                <foreignKey table="questionnaire_repository" column="id" />
            </column>
        </table>

        <!--        - Aftercare Plan-->
        <table name="form_aftercare_plan">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>

        <!--        - Ankle Evaluation Form-->
        <table name="form_ankleinjury">
            <column name="pid" comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>

        <!--        - Bronchitis Form-->
        <table name="form_bronchitis">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>

<!--        - Lab Requisition-->
        <!-- NOTE: the pid here does not match our pid column type definition -->
        <!-- TODO: @adunsulag put requisition on the back burner, looks like it deals with the printout of erx and it appears to be broken
        <table name="requisition">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table> -->

<!--        - Track Anything-->
        <!-- TODO: handle FK following on other tables here -->
        <table name="form_track_anything" comments="Clinical note form that allows clinicians to provide point in time and longitudinal tracking of any data element they configure">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
<!--            <column name="procedure_type_id">-->
<!--                <foreignKey table="form_track_anything_type" column="track_anything_type_id" />-->
<!--            </column>-->
        </table>
<!--        <table name="form_track_anything_results">-->
<!--            <column name="track_anything_id">-->
<!--                <foreignKey table="form_track_anything" column="id" />-->
<!--            </column>-->
<!--        </table>-->


<!--        - Social Screening Tool-->
        <table name="form_sdoh" comments="Encounter form that holds results for the Social Determinants of Health Screening Tool">
            <column name="id" comments="The primary key which is the same as the forms.form_id column">
                <foreignKey table="forms" column="form_id" />
            </column>
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
            <column name="user" comments="The user that created this record.">
                <foreignKey table="users" column="id" />
            </column>
            <column name="groupname" comments="The groupname that created this record.">
                <foreignKey table="groups" column="name" />
            </column>
        </table>

<!--        - Graphic Pain Map-->
        <table name="form_painmap" comments="Patient pain map form. Pain map image for mapping this form is stored in the EHI zip export at images/painmap.png">
            <column name="id" comments="The primary key which is the same as the forms.form_id column">
                <foreignKey table="forms" column="form_id" />
            </column>
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
            <column name="user" comments="The user that created this record.">
                <foreignKey table="users" column="id" />
            </column>
            <column name="groupname" comments="The groupname that created this record." >
                <foreignKey table="groups" column="name" />
            </column>
            <column name="data" comments="Data of the patient pain map to overlay ontop of the pain image.  Each mapped data element is in the following format x1CoordinatePixels^y1CoordinatePixels^pain1Description}...}." />
        </table>

<!--        - Treatment Plan-->
        <table name="form_treatment_plan" comments="Patient treatment plan form">
            <column name="id" comments="The primary key which is the same as the forms.form_id column">
                <foreignKey table="forms" column="form_id" />
            </column>
            <column name="user" comments="The user that created this record." >
                <foreignKey table="users" column="id" />
            </column>
            <column name="groupname" comments="The groupname that created this record.">
                <foreignKey table="groups" column="name" />
            </column>
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>

<!--        - Physical Exam-->
        <table name="form_physical_exam" comments="Physical Examination clinical note">
            <column name="forms_id">
                <foreignKey table="forms" column="id" />
            </column>
            <column name="line_id">
                <foreignKey table="form_physical_exam_diagnoses" column="line_id" />
            </column>
            <column name="diagnosis">
                <foreignKey table="form_physical_exam_diagnoses" column="diagnosis" />
            </column>
        </table>
        <table name="form_physical_exam_diagnoses" comments="Physical Exam Diagnosis for a physical exam that was conducted">
            <!-- TODO: @adunsulag document this table -->
        </table>

<!--        - Prior Authorization-->
        <table name="form_prior_auth" comments="Patient Prior Authorization records">
            <column name="id" comments="The primary key which is the same as the forms.form_id column">
                <foreignKey table="forms" column="form_id" />
            </column>
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>

<!--        - GAD-7-->
        <table name="form_gad7" comments="Encounter form that holds patient results for the GAD7 assessment">
            <column name="id" comments="The primary key which is the same as the forms.form_id column">
                <foreignKey table="forms" column="form_id" />
            </column>
            <column name="user" comments="The user that created this record.">
                <foreignKey table="users" column="id" />
            </column>
            <column name="groupname" comments="The groupname that created this record.">
                <foreignKey table="groups" column="name"  />
            </column>
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>

<!--        - PHQ-9-->
        <table name="form_phq9" comments="Encounter form that holds patient results for the PHQ9 assessment">
            <column name="id" comments="The primary key which is the same as the forms.form_id column">
                <foreignKey table="forms" column="form_id" />
            </column>
            <column name="user" comments="The user that created this record.">
                <foreignKey table="users" column="id"  />
            </column>
            <column name="groupname" comments="The groupname that created this record." >
                <foreignKey table="groups" column="name" />
            </column>
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>

<!--        - Work/School Note-->
        <table name="form_note">
            <column name="id" comments="The primary key which is the same as the forms.form_id column">
                <foreignKey table="forms" column="form_id" />
            </column>
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>

<!--        - Transfer Summary-->
        <table name="form_transfer_summary">
            <column name="id" comments="The primary key which is the same as the forms.form_id column">
                <foreignKey table="forms" column="form_id" />
            </column>
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>

<!--        - Clinic Note-->
        <table name="form_clinic_note">
            <column name="id" comments="The primary key which is the same as the forms.form_id column">
                <foreignKey table="forms" column="form_id" />
            </column>
        </table>

<!--        patient notes-->
        <!-- TODO: @adunsulag check `notes` table -->
        <!-- TODO: @adunsulag check `notification_log`.`pid` table -->
<!--        patient documents-->
        <table name="onsite_documents">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
            <column name="facility">
                <foreignKey table="facility" column="id" />
            </column>
            <column name="encounter">
                <foreignKey table="form_encounter" column="encounter" />
            </column>
            <column name="user" comments="User who created the esignature">
                <foreignKey table="users" column="id" />
            </column>
        </table>
        <!-- TODO: @adunsulag check onsite_mail.owner -->
        <table name="onsite_signatures">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
            <column name="encounter">
                <foreignKey table="form_encounter" column="encounter" />
            </column>
            <column name="user" comments="User who created the esignature">
                <foreignKey table="users" column="id" />
            </column>
        </table>

        <!-- TODO: @adunsulag check onsite_messages -->

        <!-- esign_signatures -->

        <!--        - External Data (Encounters  Procedures) -->
        <table name="external_encounters" comments="Holds data on encounters that exist outside of this EMR that were in a patient CCDA import">
            <column name="ee_pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>
        <table name="external_procedures" comments="Holds data on external procedures that exist outside of this EMR that were in a patient CCDA import">
            <column name="ep_pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
            <column name="ep_encounter"  comments="The encounter for the external procedure">
                <foreignKey table="form_encounter" column="encounter" />
            </column>
        </table>

        <table name="patient_tracker">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
            <column name="eid"  comments="The calendar appointment id">
                <foreignKey table="openemr_postcalendar_events" column="pc_eid" />
            </column>
            <column name="original_user">
                <foreignKey table="users" column="username" />
            </column>
            <column name="encounter"  comments="The encounter for the external procedure">
                <foreignKey table="form_encounter" column="encounter" />
            </column>
        </table>
        <table name="patient_tracker_element">
            <column name="pt_tracker_id">
                <foreignKey table="patient_tracker" column="id" />
            </column>
            <column name="user">
                <foreignKey table="users" column="username" />
            </column>
        </table>

        <table name="shared_attributes" comments="Dynamic patient, encounter, and transaction table properties created via LBF/LBT mechanism">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
            <column name="encounter"  comments="0 if patient attribute, else this is an encounter attribute and references the form_encounter.encounter property">
                <foreignKey table="form_encounter" column="encounter" />
            </column>
            <!-- TODO: @adunsulag does it make sense to traverse this table... or should we just skip it? -->
            <column name="field_id"  comments="references layout_options.field_id and is the unique property name of this shared attribute">
                <foreignKey table="layout_options" column="field_id" />
            </column>
            <column name="user_id" comments="User who last updated this shared attribute">
                <foreignKey table="users" column="id" />
            </column>
        </table>

        <table name="claims" comments="Insurance Billing Claims">
            <column name="patient_id"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
            <!-- TODO: @adunsulag need to populate -->
        </table>

        <table name="voids" comments="Tracks a voided receipt or checkout for a patient">
            <column name="patient_id"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
            <column name="encounter_id">
                <foreignKey table="form_encounter" column="encounter" />
            </column>
            <column name="user_id">
                <foreignKey table="users" column="id" />
            </column>
        </table>

        <table name="billing" comments="Patient billing records for billing codes - Used for Claims Processing">
            <column name="id" comments="Surrogate id of the record used as the primary incrementing key"/>
            <column name="pid"  comments="The internal patient identifier">
		        <foreignKey table="patient_data" column="pid" />
            </column>
            <column name="provider_id"  comments="The insurance company being billed. If this is self-pay the id will be 0">
                <foreignKey table="insurance_companies" column="id" />
            </column>
            <column name="payer_id"  comments="The insurance company being billed. If this is self-pay the id will be 0">
                <foreignKey table="insurance_companies" column="id" />
            </column>
            <column name="x12_partner_id"  comments="The X12 partner clearinghouse id." />
            <column name="user" comments="The user that created this billing record.">
                <foreignKey table="users" column="id" />
            </column>
            <column name="groupname" comments="Group name associated with the billing record">
                <foreignKey table="groups" column="name" />
            </column>
            <column name="encounter" comments="The encounter that this billing record is connected to">
                <foreignKey table="form_encounter" column="encounter" />
            </column>


            <column name="date" comments="Date associated with the billing record"/>
            <column name="code_type" comments="Type of billing code"/>
            <column name="code" comments="Billing code"/>
            <column name="authorized" comments="Authorization status (1 for authorized, 0 for unauthorized)"/>
            <column name="code_text" comments="Text associated with the billing code"/>
            <column name="billed" comments="Billing status (1 for billed, 0 for unbilled)"/>
            <column name="activity" comments="Activity status (1 for active, 0 for inactive)"/>
            <column name="bill_process" comments="Bill process code -1=leave unprocessed,0=open,1=in progress,2=billed"/>
            <column name="bill_date" comments="Date when billing moved into the billed status"/>
            <column name="process_date" comments="Date when the bill was moved into the processing state"/>
            <column name="process_file" comments="File associated with billing process"/>
            <column name="modifier" comments="Modifier for billing code"/>
            <column name="units" comments="Number of units for billing"/>
            <column name="fee" comments="Fee associated with billing"/>
            <column name="justify" comments="Justification for billing code"/>
            <column name="target" comments="Target associated with billing code"/>
            <column name="ndc_info" comments="NDC (National Drug Code) information"/>
            <column name="notecodes" comments="Notecodes associated with billing"/>
            <column name="external_id" comments="External identifier associated with billing"/>
            <column name="pricelevel" comments="Price level associated with billing"/>
            <column name="revenue_code" comments="Item revenue code"/>
            <column name="chargecat" comments="Comes from the list_options.list_id='chargecats' and represents the charge category for certain insursers">
                <foreignKey table="list_options" column="option_id" />
            </column>
        </table>

        <table name="drugs" comments="Contains information about drugs that are dispensed/prescribed to patients.  Also holds product inventory information if providers are internally managing their own drugs/medical supplies">

        </table>

        <table name="drug_sales" comments="Product/Drug sales to Patients">
            <column name="sale_id"  comments="The unique identifier for this record" />
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
            <column name="encounter" comments="The patient encounter which resulted in this drug being sold to the patient.">
                <foreignKey table="form_encounter" column="encounter" />
            </column>
            <column name="drug_id" comments="The id of the drug that was sold to the patient. 0 if the record is not dispensed to a patient">
                <foreignKey table="drugs" column="drug_id" />
            </column>
            <column name="sale_date"  comments="The date the sale occurred on" />
            <column name="fee"  comments="The total price of the sale for the drug that was sold to the patient" />
            <column name="quantity"  comments="The number of items sold of the drug" />
            <column name="distributor_id" comments="UNUSED - will be removed in the future" />
        </table>

        <table name="ar_activity" comments="Accounts Receivable item entries in invoice/claim activity">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
            <column name="encounter" comments="The identifier for the encounter for which the payment is connected to (foreign key reference to the forms_encounter.encounter).">
                <foreignKey table="form_encounter" column="encounter" />
            </column>
            <column name="sequence_no" comments="A unique identifier for this payment activity, incremented in the code." />
            <column name="code_type"  comments="The code system that is used for this billing activity" />
            <column name="code"  comments="The code in the code system referenced in code_type that is the main billing code for this billing activity" />
            <column name="modifier"  comments="Billing code modifier" />
            <column name="payer_type" comments="The payer type code, indicating the source of payment (0=patient, 1=primary insurance, 2=secondary insurance, etc)."/>
            <column name="post_time" comments="The timestamp indicating when the payment was posted (in DATETIME format)."/>
            <column name="post_user" comments="The user ID (foreign key reference to the users table) of the person who posted the payment.">
                <foreignKey table="users" column="id" />
            </column>
            <column name="fee"  comments="The billing fee that is being requested for payment of services rendered" />
            <column name="post_time"  comments="Time of the posting on the date referenced in post_date" />

            <column name="session_id" comments="The session ID (foreign key reference to the ar_session table) associated with this payment activity, if applicable.">
                <foreignKey table="ar_session" column="session_id" />
            </column>
            <column name="memo" comments="Additional comments or adjustment reasons related to the payment activity."/>
            <column name="pay_amount" comments="The actual payment amount received (in DECIMAL format), which may differ from the fee amount due to adjustments or discounts."/>
            <column name="adj_amount" comments="The adjustment amount, if any, to account for changes in the payment (in DECIMAL format)."/>
            <column name="modified_time" comments="The timestamp indicating when this payment activity was last modified (in DATETIME format)."/>
            <column name="follow_up" comments="A flag (CHAR) indicating follow-up actions needed for this payment activity (e.g., 'y' for yes, 'n' for no)."/>
            <column name="follow_up_note" comments="Additional notes or instructions related to follow-up actions for this payment activity (in TEXT format)."/>
            <column name="account_code" comments="The account code used to categorize or classify this payment activity (e.g., a billing code or account code)."/>
            <column name="reason_code" comments="An optional reason code used to explain adjustments or changes in the payment amount (e.g., primary payer adjustment reason code)."/>
            <column name="deleted" comments="A timestamp (in DATETIME format) indicating when the payment activity was deleted (NULL if active, otherwise when voided)."/>
            <column name="post_date" comments="The date (in DATE format) when the payment was posted, if specified at the time of payment."/>
            <column name="payer_claim_number" comments="The claim number or reference number provided by the payer or insurance company for this payment activity."/>
        </table>

        <table name="ar_session" comments="Accounts Receivable overall payment made towards a patient invoice/claim">
            <column name="session_id" comments="The unique identifier for an accounting session, used as a surrogate key."/>
            <column name="payer_id"  comments="The insurance company being billed. If this is self-pay the id will be 0">
                <foreignKey table="insurance_companies" column="id" />
            </column>
            <column name="user_id" comments="The reference to the user ID the created this billing session">
                <foreignKey table="users" column="id" />
            </column>
            <column name="patient_id"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
            <column name="payment_type" comments="Comes from the list_options.list_id='payment_type' and represents the type of payment, such as if this is a patient or insurance payment.">
                <foreignKey table="list_options" column="option_id" />
            </column>
            <column name="adjustment_code" comments="Comes from the list_options.list_id='payment_adjustment_code' and represents the payment adjustment code to apply.">
                <foreignKey table="list_options" column="option_id" />
            </column>
            <column name="payment_method" comments="Comes from the list_options.list_id='payment_method' The method of payment, e.g., ACH, Cash, CC, Check, etc.">
                <foreignKey table="list_options" column="option_id" />
            </column>

            <column name="closed" comments="A flag indicating if the session is closed. 0 for open, 1 for closed."/>
            <column name="reference" comments="The check or EOB (Explanation of Benefits) number associated with the payment."/>
            <column name="check_date" comments="The date when the check was received for the payment."/>
            <column name="deposit_date" comments="The date when the payment was deposited."/>
            <column name="pay_total" comments="The total payment amount for the claim or billing invoice."/>
            <column name="created_time" comments="The timestamp when the payment record was created."/>
            <column name="modified_time" comments="The date and time of the last modification to the payment record."/>
            <column name="global_amount" comments="The global amount for the payment."/>
            <column name="description" comments="Additional description or notes related to the payment."/>
            <column name="post_to_date" comments="The date when the payment is posted to the claim or billing invoice."/>
        </table>

        <table name="eligibility_verification" comments="Insurance Eligibility Verification Tracking">
            <column name="insurance_id"  comments="The patient insurance that eligibility is being checked against">
                <foreignKey table="insurance_data" column="id" />
            </column>
            <!-- TODO: @adunsulag need to populate -->
        </table>
        <table name="benefit_eligibility" comments="Holds the eligible patient benefits for a specific insurance as received from an eligibility verification">
            <column name="response_id" comments="Surrogate ID of the benefit eligibility record used as the primary incrementing key"/>
            <column name="verification_id"  comments="The eligibility verification record that these benefits are retrieved from">
                <foreignKey table="eligibility_verification" column="verification_id" />
            </column>
            <column name="type" comments="Type of benefit"/>
            <column name="benefit_type" comments="Type of the benefit, if applicable"/>
            <column name="start_date" comments="Start date for the benefit coverage"/>
            <column name="end_date" comments="End date for the benefit coverage"/>
            <column name="coverage_level" comments="Coverage level, if specified"/>
            <column name="coverage_type" comments="Type of coverage"/>
            <column name="plan_type" comments="Type of insurance plan"/>
            <column name="plan_description" comments="Description of the insurance plan"/>
            <column name="coverage_period" comments="Period of coverage"/>
            <column name="amount" comments="Benefit amount, if applicable"/>
            <column name="percent" comments="Benefit percentage, if applicable"/>
            <column name="network_ind" comments="Network indicator"/>
            <column name="message" comments="Additional message or information"/>
            <column name="response_status" comments="Status of the response (Active 'A' or Denied 'D')"/>
            <column name="response_create_date" comments="Date when the benefit response was created"/>
            <column name="response_modify_date" comments="Date when the benefit response was last modified"/>
        </table>

        <!-- Therapy Groups, counselors, participants, participant_attendance -->
        <table name="therapy_groups_participant_attendance">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
        </table>
        <table name="therapy_groups_participants">
            <column name="pid"  comments="The internal patient identifier">
                <foreignKey table="patient_data" column="pid" />
            </column>
            <column name="group_id">
                <foreignKey table="therapy_groups" column="group_id" />
            </column>
        </table>
        <table name="therapy_groups" comments="Contains all of the therapy groups that exist in the system">
        </table>
        <table name="therapy_groups_counselors" comments="Contains the relationships between the counselors in a therapy group and the group">
            <column name="group_id">
                <foreignKey table="therapy_groups" column="group_id" />
            </column>
            <column name="user_id">
                <foreignKey table="users" column="id" />
            </column>
        </table>

        <table name="facility" comments="The facility table holds all of the facilities that provide healthcare in the EMR. It contains the primary billing location and other service locations/organizations that are not insurance companies tracked inside the EMR">
            <column name="id" comments="Surrogate id of the record used as the primary incrementing key"/>
            <column name="uuid" comments="UUID of the record"/>
            <column name="name" comments="The name of the facility"/>
            <column name="phone" comments="Phone number of the facility"/>
            <column name="fax" comments="Fax number of the facility"/>
            <column name="street" comments="Street address of the facility"/>
            <column name="city" comments="City where the facility is located"/>
            <column name="state" comments="State where the facility is located"/>
            <column name="postal_code" comments="Postal code of the facility"/>
            <column name="country_code" comments="Country code of the facility"/>
            <column name="federal_ein" comments="Federal Employer Identification Number of the facility"/>
            <column name="website" comments="Website of the facility"/>
            <column name="email" comments="Email address of the facility"/>
            <column name="service_location" comments="Indicates if it's a service location (0-Not a service location, 1-Service location)"/>
            <column name="billing_location" comments="Indicates if it's a billing location (0-Not a billing location, 1-Billing location)"/>
            <column name="accepts_assignment" comments="Indicates if the facility accepts assignment (0-Does not accept assignment, 1-Accepts assignment)"/>
            <column name="pos_code" comments="POS (Place of Service) code of the facility"/>
            <column name="x12_sender_id" comments="X12 Sender ID of the facility. EMPTY IN Export"/>
            <column name="attn" comments="Attention line for the facility"/>
            <column name="domain_identifier" comments="Domain identifier for the facility"/>
            <column name="facility_npi" comments="NPI (National Provider Identifier) for the facility"/>
            <column name="facility_taxonomy" comments="Taxonomy code for the facility"/>
            <column name="tax_id_type" comments="Tax ID type for the facility"/>
            <column name="color" comments="Color code for the facility"/>
            <column name="primary_business_entity" comments="Primary business entity (0-Not set as the primary business entity, 1-Set as the primary business entity)"/>
            <column name="facility_code" comments="Facility code for the facility"/>
            <column name="extra_validation" comments="Extra validation indicator (0-No extra validation, 1-Extra validation)"/>
            <column name="mail_street" comments="Mailing street address of the facility"/>
            <column name="mail_street2" comments="Additional mailing street address of the facility"/>
            <column name="mail_city" comments="Mailing city of the facility"/>
            <column name="mail_state" comments="Mailing state of the facility"/>
            <column name="mail_zip" comments="Mailing ZIP code of the facility"/>
            <column name="oid" comments="For HIEs, CCDA, and FHIR an OID is required/wanted for the facility"/>
            <column name="iban" comments="International Bank Account Number (IBAN) for the facility EMPTY IN Export"/>
            <column name="info" comments="Additional information about the facility EMPTY in Export"/>
            <column name="weno_id" comments="WENO ID for the facility"/>
            <column name="inactive" comments="Indicates if the facility is inactive (0-Active, 1-Inactive)"/>
        </table>

        <table name="users">
            <column name="id" comments="Unique identifier for each user in the system."/>
            <column name="uuid" comments="Universally unique identifier for the user."/>
            <column name="username" comments="The username associated with the user's account."/>
            <column name="password" comments="The password for the user's account." exclude="true"/>
            <column name="authorized" comments="Indicates whether the user is authorized (1 for authorized, 0 for unauthorized)."/>
            <column name="info" comments="Additional information or notes about the user." exclude="true"/>
            <column name="source" comments="An indicator of the source of the user (e.g., internal or external)."/>
            <column name="fname" comments="First name of the user."/>
            <column name="mname" comments="Middle name of the user."/>
            <column name="lname" comments="Last name of the user."/>
            <column name="suffix" comments="Suffix for the user's name (e.g., Jr., Sr.)."/>
            <column name="federaltaxid" comments="Federal Tax ID associated with the user." exclude="true"/>
            <column name="federaldrugid" comments="Federal Drug ID associated with the user." exclude="true"/>
            <column name="upin" comments="Universal Physician Identification Number for the user."/>
            <column name="facility" comments="The facility where the user is associated."/>
            <column name="facility_id" comments="Unique identifier for the user's associated facility.">
                <foreignKey table="facility" column="id" />
            </column>
            <column name="see_auth" comments="Indicates if the user has the ability to see authorizations."/>
            <column name="active" comments="Indicates the user's activity status (1 for active, 0 for inactive)."/>
            <column name="npi" comments="National Provider Identifier for the user."/>
            <column name="title" comments="Title or designation of the user (e.g., MD, RN)."/>
            <column name="specialty" comments="The specialty of the user (e.g., cardiology, pediatrics)."/>
            <column name="billname" comments="Billing name for the user."/>
            <column name="email" comments="Email address associated with the user's account. EMPTY for exports"/>
            <column name="email_direct" comments="Trusted Direct email address for the user."/>
            <column name="google_signin_email" comments="Email address for Google Sign-In (if applicable). EMPTY for exports" exclude="true"/>
            <column name="url" comments="URL associated with the user's profile."/>
            <column name="assistant" comments="Name of the user's assistant or support staff."/>
            <column name="organization" comments="Name of the user's organization or practice."/>
            <column name="valedictory" comments="Valedictory or honorary title of the user."/>
            <column name="street" comments="Street address for the user. EMPTY for exports" exclude="true"/>
            <column name="streetb" comments="Secondary street address for the user. EMPTY for exports" exclude="true"/>
            <column name="city" comments="City of residence or practice for the user. EMPTY for exports" exclude="true"/>
            <column name="state" comments="State or province of residence or practice for the user. EMPTY for exports" exclude="true"/>
            <column name="zip" comments="ZIP code or postal code for the user. EMPTY for exports" exclude="true"/>
            <column name="street2" comments="Alternative street address for the user. EMPTY for exports" exclude="true"/>
            <column name="streetb2" comments="Alternative street address for the user. EMPTY for exports" exclude="true"/>
            <column name="city2" comments="Alternative City of residence or practice for the user. EMPTY for exports" exclude="true"/>
            <column name="state2" comments="Alternative State or province of residence or practice for the user. EMPTY for exports" exclude="true"/>
            <column name="zip2" comments="Alternative ZIP code or postal code for the user. EMPTY for exports" exclude="true"/>
            <column name="phone" comments="Phone number for the user. EMPTY for exports" exclude="true"/>
            <column name="fax" comments="Fax number for the user. EMPTY for exports" exclude="true"/>
            <column name="phonew1" comments="Work phone number for the user."/>
            <column name="phonew2" comments="Alternative Work phone number for the user."/>
            <column name="phonecell" comments="Cell phone number for the user. EMPTY for exports" exclude="true"/>
            <column name="notes" comments="Additional notes or comments about the user. EMPTY for exports" exclude="true"/>
            <column name="cal_ui" comments="UNUSED" exclude="true"/>
            <column name="taxonomy" comments="Taxonomy code associated with the user."/>
            <column name="calendar" comments="Indicates whether the user appears in the calendar (1 for appears, 0 for doesn't appear)."/>
            <column name="abook_type" comments="Address book type for the user."/>
            <column name="default_warehouse" comments="Default warehouse for the user."/>
            <column name="irnpool" comments="IRN (Insurance Referral Network) pool for the user."/>
            <column name="state_license_number" comments="State license number for the user."/>
            <column name="weno_prov_id" comments="WENO Provider ID for the user. EMPTY for exports" exclude="true"/>
            <column name="newcrop_user_role" comments="NewCrop user role for the user.EMPTY for exports" exclude="true"/>
            <column name="cpoe" comments="Indicates whether the user has CPOE (Computerized Physician Order Entry) capabilities."/>
            <column name="physician_type" comments="Type or designation of the physician (e.g., standard, specialist)."/>
            <column name="main_menu_role" comments="Main menu role for the user. EMPTY for exports" exclude="true"/>
            <column name="patient_menu_role" comments="Patient menu role for the user. EMPTY for exports" exclude="true"/>
            <column name="portal_user" comments="Indicates if the user is a portal user (1 for portal user, 0 for non-portal user). EMPTY for exports" exclude="true"/>
            <column name="supervisor_id" comments="Unique identifier of the user's supervisor. EMPTY for exports" exclude="true"/>
            <column name="billing_facility" comments="Billing facility information for the user."/>
            <column name="billing_facility_id" comments="Unique identifier for the user's billing facility.">
                    <foreignKey table="facility" column="id" />
            </column>
        </table>

        <table name="esign_signatures" comments="Holds the digital author signature records for encounters and individual charted forms in the system.">
            <column name="id" comments="Surrogate id of the record used as the primary incrementing key."/>
            <column name="tid" comments="Table row ID for signature. This is either the forms.id or the form_encounter.encounter id"/>
            <column name="table" comments="Table name for the signature. This will either be 'forms' if it represents an individual form the provider is e-signing or 'form_encounter' if it represents the entire encounter record the provider is attesting to."/>
            <column name="uid" comments="User id for the signing user.">
                <foreignKey table="users" column="id" />
            </column>
            <column name="datetime" comments="Datetime of the signature action."/>
            <column name="is_lock" comments="Indicates whether the record is signed, locked, or amended."/>
            <column name="amendment" comments="Amendment text, if any."/>
            <column name="hash" comments="Hash of signed data. For an individual form_[formdir] this will be the hash of the string concatenation of all of the column values for the main entry table. For an overall encounter this will be the string concatenation of all individual form records that are connected to the encounter."/>
            <column name="signature_hash" comments="Hash of the signature itself hash(tid,table,uid,is_lock,hash,amendment). sha1= less than 50 chars; greater than 50chars=sha3-512 algorithm. "/>
        </table>
    </tables>
</schemaMeta>

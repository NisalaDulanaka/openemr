{% extends "patient/card/card_base.html.twig" %}

{% block content %}

<div class="list-group list-group-flush">
{% if list|length == 0 %}
    {% if listTouched == true %}
        <div class="list-group-item p-0 pl-1">
            {% if id == "allergy" %}
                {{ "No Known Allergies"|xlt }}
            {% else %}
                {{ "None{{Issues}}"|xlt }}
            {% endif %}
        </div>
    {% else %}
    <div class="list-group-item p-0 pl-1">
        {{ "Nothing Recorded"|xlt }}
    </div>
    {% endif %}
{% else %}
    {% for l in list %}
        {% if l.critical is defined %}
            {% set classes = "bg-danger text-light font-weight-bold" %}
        {% endif %}
        <div class="list-group-item p-1 {{ classes }}">
            <div class="d-flex w-100 justify-content-between">
                <div class="flex-fill">
                    {{ l.title }}
                    {% if id == "allergy" %}
                        <small class="d-block">{{ l.reactionTitle }}</small>
                    {% endif %}
                </div>
                {% if id == "allergy" %}
                    <div class="flex-fill text-right">{{ l.severity }}</div>
                {% endif %}
            </div>
        </div>
    {% endfor %}
{% endif %}
</div>
{% endblock %}
